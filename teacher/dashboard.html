<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Dashboard - SCMS</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <!-- Mobile Header -->
    <div class="mobile-header">
        <div class="mobile-header-content">
            <div class="mobile-logo">
                ðŸŽ“ <span>SCMS Teacher</span>
            </div>
            <div class="mobile-controls">
                <button class="mobile-theme-toggle" onclick="toggleTheme()" title="Toggle Dark/Light Mode">
                    <i class="fas fa-moon" id="mobileThemeIcon"></i>
                </button>
                <button class="mobile-menu-btn" onclick="toggleMobileSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeMobileSidebar()"></div>

    <div class="dashboard">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>ðŸŽ“ SCMS</h2>
                <p>Teacher Portal</p>
            </div>
            
            <div class="user-info" id="userInfo">
                <div class="user-avatar">
                    <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <div class="user-details">
                    <div class="user-name" id="userName">Loading...</div>
                    <div class="user-dept" id="userDept">Computer Science</div>
                </div>
            </div>
            
            <!-- Theme Toggle in Sidebar -->
            <div class="theme-toggle-sidebar" onclick="toggleTheme()">
                <div class="theme-toggle-icon">
                    <i class="fas fa-moon" id="themeIcon"></i>
                    <span id="themeLabel">Dark Mode</span>
                </div>
                <div class="theme-switch" id="themeSwitch">
                    <div class="theme-switch-handle"></div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="active">
                        <a href="dashboard.html">
                            <i class="fas fa-tachometer-alt"></i>
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="session.html">
                            <i class="fas fa-chalkboard"></i>
                            Live Session
                        </a>
                    </li>
                    <li>
                        <a href="attendance.html">
                            <i class="fas fa-user-check"></i>
                            Attendance
                        </a>
                    </li>
                    <li>
                        <a href="resources.html">
                            <i class="fas fa-tools"></i>
                            Resources
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <div>
                    <h1>Welcome, <span id="headerUserName">Prof. Chen</span> ðŸ‘‹</h1>
                    <p>Ready to inspire minds today? Your classes await!</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" onclick="startClass()">
                        <i class="fas fa-play"></i>
                        Start Class
                    </button>
                    <button class="btn btn-success" onclick="markAttendance()">
                        <i class="fas fa-user-check"></i>
                        Mark Attendance
                    </button>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card classes">
                    <div class="stat-icon">
                        <i class="fas fa-chalkboard"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number" id="totalClasses">3</div>
                        <div class="stat-label">My Classes</div>
                        <div class="stat-change">+1 this semester</div>
                    </div>
                </div>
                
                <div class="stat-card students">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number" id="totalStudents">125</div>
                        <div class="stat-label">Total Students</div>
                        <div class="stat-change">+8 this week</div>
                    </div>
                </div>
                
                <div class="stat-card attendance">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number" id="avgAttendance">89%</div>
                        <div class="stat-label">Avg Attendance</div>
                        <div class="stat-change">+3% this month</div>
                    </div>
                </div>
                
                <div class="stat-card engagement">
                    <div class="stat-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number" id="engagementScore">94%</div>
                        <div class="stat-label">Engagement</div>
                        <div class="stat-change">Excellent!</div>
                    </div>
                </div>
            </div>

            <!-- Main Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Main Panel -->
                <div class="main-panel">
                    <!-- Today's Classes -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3><i class="fas fa-calendar-day"></i> Today's Classes</h3>
                            <span style="color: var(--accent-green); font-weight: 600;">
                                <i class="fas fa-clock"></i> 
                                <span id="currentTime">10:30 AM</span>
                            </span>
                        </div>
                        <div class="class-list" id="classList">
                            <div class="class-item active" onclick="selectClass('cs101')">
                                <div class="class-info">
                                    <h4>CS101 - Data Structures</h4>
                                    <div class="class-details">
                                        <span><i class="fas fa-clock"></i> 10:00 - 11:30 AM</span>
                                        <span><i class="fas fa-map-marker-alt"></i> Room 201</span>
                                        <span><i class="fas fa-users"></i> 45 students</span>
                                    </div>
                                </div>
                                <div class="class-status">
                                    <span class="status-badge status-live">LIVE NOW</span>
                                    <span style="color: var(--accent-green); font-weight: 600;">35/45 Present</span>
                                </div>
                            </div>
                            
                            <div class="class-item" onclick="selectClass('cs102')">
                                <div class="class-info">
                                    <h4>CS102 - Algorithms</h4>
                                    <div class="class-details">
                                        <span><i class="fas fa-clock"></i> 2:00 - 3:30 PM</span>
                                        <span><i class="fas fa-map-marker-alt"></i> Room 203</span>
                                        <span><i class="fas fa-users"></i> 38 students</span>
                                    </div>
                                </div>
                                <div class="class-status">
                                    <span class="status-badge status-scheduled">SCHEDULED</span>
                                    <span style="color: var(--text-secondary);">In 3h 30m</span>
                                </div>
                            </div>
                            
                            <div class="class-item" onclick="selectClass('cs103')">
                                <div class="class-info">
                                    <h4>CS103 - Database Systems</h4>
                                    <div class="class-details">
                                        <span><i class="fas fa-clock"></i> 9:00 - 10:00 AM</span>
                                        <span><i class="fas fa-map-marker-alt"></i> Room 205</span>
                                        <span><i class="fas fa-users"></i> 42 students</span>
                                    </div>
                                </div>
                                <div class="class-status">
                                    <span class="status-badge status-completed">COMPLETED</span>
                                    <span style="color: var(--accent-green);">40/42 Present</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Live Attendance -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3><i class="fas fa-user-check"></i> Live Attendance - CS101</h3>
                            <button class="btn btn-primary" onclick="openAttendanceScanner()">
                                <i class="fas fa-qrcode"></i>
                                QR Scanner
                            </button>
                        </div>
                        <div class="attendance-section">
                            <div class="attendance-controls">
                                <button class="btn btn-success" onclick="simulateCheckIn()">
                                    <i class="fas fa-plus"></i>
                                    Simulate Check-in
                                </button>
                                <button class="btn btn-warning" onclick="markAllPresent()">
                                    <i class="fas fa-check-double"></i>
                                    Mark All Present
                                </button>
                                <button class="btn btn-primary" onclick="exportAttendance()">
                                    <i class="fas fa-download"></i>
                                    Export
                                </button>
                            </div>
                            <div class="attendance-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Student</th>
                                            <th>Roll No</th>
                                            <th>Status</th>
                                            <th>Check-in Time</th>
                                            <th>Method</th>
                                        </tr>
                                    </thead>
                                    <tbody id="attendanceTableBody">
                                        <!-- Attendance data will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Side Panel -->
                <div>
                    <!-- Quick Actions -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                        </div>
                        <div class="quick-actions">
                            <div class="action-grid">
                                <div class="action-btn" onclick="createPoll()">
                                    <i class="fas fa-poll"></i>
                                    Create Poll
                                </div>
                                <div class="action-btn" onclick="shareResource()">
                                    <i class="fas fa-share"></i>
                                    Share Resource
                                </div>
                                <div class="action-btn" onclick="sendAnnouncement()">
                                    <i class="fas fa-bullhorn"></i>
                                    Announcement
                                </div>
                                <div class="action-btn" onclick="recordSession()">
                                    <i class="fas fa-video"></i>
                                    Record Session
                                </div>
                                <div class="action-btn" onclick="bookResource()">
                                    <i class="fas fa-calendar-plus"></i>
                                    Book Resource
                                </div>
                                <div class="action-btn" onclick="viewAnalytics()">
                                    <i class="fas fa-chart-pie"></i>
                                    View Analytics
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive Tools -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3><i class="fas fa-users"></i> Interactive Tools</h3>
                        </div>
                        <div class="interactive-panel">
                            <div class="poll-creator" id="pollCreator" style="display: none;">
                                <h4 style="margin-bottom: 15px; color: var(--text-primary);">Create Quick Poll</h4>
                                <input type="text" id="pollQuestion" placeholder="Enter your question...">
                                <div class="poll-options">
                                    <input type="text" class="poll-option" placeholder="Option A">
                                    <input type="text" class="poll-option" placeholder="Option B">
                                </div>
                                <div style="display: flex; gap: 10px;">
                                    <button class="btn btn-primary" onclick="launchPoll()">
                                        <i class="fas fa-rocket"></i>
                                        Launch Poll
                                    </button>
                                    <button class="btn btn-secondary" onclick="cancelPoll()">
                                        Cancel
                                    </button>
                                </div>
                            </div>
                            
                            <div id="activePoll" style="display: none;">
                                <!-- Active poll will be shown here -->
                            </div>
                            
                            <div id="noActivePoll">
                                <div style="text-align: center; padding: 20px; color: var(--text-secondary);">
                                    <i class="fas fa-poll" style="font-size: 2em; margin-bottom: 10px; opacity: 0.5;"></i>
                                    <p>No active polls</p>
                                    <small>Create a poll to engage with students</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="floating-actions">
        <div class="fab secondary" onclick="openChatBot()" title="AI Assistant">
            <i class="fas fa-robot"></i>
        </div>
        <div class="fab primary" onclick="emergencyAlert()" title="Emergency Alert">
            <i class="fas fa-exclamation-triangle"></i>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
